@model List<ToyPlanet.Core.CartItem>
@{
    ViewData["Title"] = "–û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è";
    var total = Model.Sum(item => item.Toy != null ? item.Toy.Price * item.Quantity : 0);
}

<div class="container mt-4">
    <div class="row">
        <div class="col-md-8">
            <h2 style="color:#e75480;">üì¶ –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
            
            <div class="card mt-4 p-4" style="border-radius:12px; box-shadow:0 2px 8px rgba(231, 84, 128, 0.2);">
                <h4 class="mb-4" style="color:#a64ca6;">–î–∞–Ω—ñ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏</h4>
                
                <form method="post" asp-action="Checkout">
                    <div class="mb-3">
                        <label for="fullName" class="form-label">–ü–æ–≤–Ω–µ —ñ–º'—è <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="fullName" name="fullName" required placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ –ø–æ–≤–Ω–µ —ñ–º'—è">
                    </div>
                    
                    <div class="mb-3">
                        <label for="address" class="form-label">–ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ <span class="text-danger">*</span></label>
                        <textarea class="form-control" id="address" name="address" rows="3" required placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–æ–≤–Ω—É –∞–¥—Ä–µ—Å—É –¥–æ—Å—Ç–∞–≤–∫–∏"></textarea>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="postalCode" class="form-label">–ü–æ—à—Ç–æ–≤–∏–π —ñ–Ω–¥–µ–∫—Å <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="postalCode" name="postalCode" required placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: 01001" pattern="[0-9]{5}">
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="phone" class="form-label">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É <span class="text-danger">*</span></label>
                            <input type="tel" class="form-control" id="phone" name="phone" required placeholder="+380XXXXXXXXX" pattern="[\+]?[0-9]{10,13}">
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <button type="submit" class="btn btn-success btn-lg w-100" style="background:#4caf50; border:none; padding:12px;">
                            ‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="col-md-4">
            <div class="card p-4" style="background:#fff6fa; border-radius:12px; box-shadow:0 2px 8px rgba(231, 84, 128, 0.2);">
                <h4 style="color:#e75480;">–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h4>
                <hr>
                
                @foreach (var item in Model)
                {
                    if (item.Toy != null)
                    {
                        <div class="d-flex justify-content-between mb-3">
                            <div>
                                <strong>@item.Toy.Name</strong>
                                <br>
                                <small class="text-muted">–ö—ñ–ª—å–∫—ñ—Å—Ç—å: @item.Quantity</small>
                            </div>
                            <div class="text-end">
                                <strong>@(item.Toy.Price * item.Quantity) ‚Ç¥</strong>
                            </div>
                        </div>
                    }
                }
                
                <hr>
                <div class="d-flex justify-content-between mb-2">
                    <strong>–î–æ—Å—Ç–∞–≤–∫–∞:</strong>
                    <span class="text-success">–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ</span>
                </div>
                <hr>
                <div class="d-flex justify-content-between">
                    <h5 style="color:#e75480;">–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞:</h5>
                    <h5 style="color:#e75480;"><strong>@total ‚Ç¥</strong></h5>
                </div>
            </div>
            
            <div class="mt-3">
                <a href="/Cart" class="btn btn-outline-secondary w-100">‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –¥–æ –∫–æ—à–∏–∫–∞</a>
            </div>
        </div>
    </div>
</div>
